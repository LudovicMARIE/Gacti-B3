<div class="body">
<app-navbar></app-navbar>
<div class="main">
  <div class="hello" *ngIf="page == 'default'">
    <span class="hello-print">
      Bonjour {{ User.prenomCompte}} {{User.nomCompte}}
    </span>
  </div>
  <div class="panel">
    <div class="uppanel">

    </div>

    <div class="downpanel">
      <div class="informations" *ngIf="page == 'default'">
        <span>Mes informations</span>
          <table>
            <tr>
              <td>Prénom:</td>
              <td>{{ User.prenomCompte }}</td>
            </tr>
            <tr>
              <td>Nom:</td>
              <td>{{ User.nomCompte }}</td>
            </tr>
            <tr>
              <td>Date d'inscription:</td>
              <td>{{ User.dateInscrip | date: " dd/MM/yyyy"}}</td>
            </tr>
            <tr>
              <td>Adresse mail:</td>
              <td>{{ User.adrMailCompte }}</td>
            </tr>
            <tr>
              <td>Numéro de téléphone:</td>
              <td>{{ User.telCompte }}</td>
            </tr>
            <tr *ngIf="User.dateDebSejour != null">
              <td>Début du séjour:</td>
              <td>{{ User.dateDebSejour | date: " dd/MM/yyyy"}}</td>
            </tr>
            <tr *ngIf="User.dateFinSejour != null" >
              <td>Fin du séjour:</td>
              <td>{{ User.dateFinSejour | date: " dd/MM/yyyy"}}</td>
            </tr>
          </table>
      </div>

      <div class="activites" id="activites" *ngIf="page == 'activityList'">
        <div class="comboboxAct" id="comboboxAct">
          <select #selectAnimType name="act" (input)="onFilterChangeActivities(selectAnimType.value)">
            <option value="" selected disabled hidden>Choisissez un type d'activité</option>
            <option value="all">Toutes les activités</option>
            <option [value]="animType" *ngFor="let animType of animationTypeList">{{animType}}</option>
          </select>
        </div>
        <div class="afficher_activites" id="afficher_activites">
          <div 
          class='card'
          *ngFor="let activity of activityList" 
          [ngClass]="{'cardAnnule': activity.dateAnnulationAct != null}"
          >
            <div class='titreCard'>{{ activity.animation.nomAnimation }}</div>
            <div class='actCard' method='post' action=''>
            Date : {{activity.dateAct | date: " dd/MM/yyyy"}}<br/>
            Prix : {{activity.prixAct}}€<br/>
            <div *ngIf="activity.dateAnnulationAct != null">Annulée le {{activity.dateAnnulationAct | date: " dd/MM/yyyy"}}</div>
            <div class='buttonAct'>
            <button type='button' (click)="registerActivity(activity.idActivite)" *ngIf="User.typeProfil == 'client' && activity.dateAnnulationAct == null" class='btn_inscription'>S'inscrire</button>
            <button type='button' (click)="deleteActivity(activity)" *ngIf="User.typeProfil == 'admin'" class='btn_inscription'>Supprimer</button>
            </div>
            </div>
          </div>
        </div>
       </div>

       <div class="activites_inscrites" id="activites_inscrites" *ngIf="page == 'activitiesRegistered'">
        <div class="afficher_activites">
          <div class='card' *ngFor="let registration of activityRegisteredList">
          <div class='titreCard'>{{registration.animation.nomAnimation}}</div>
          <div class='actCard'>
          Date : {{registration.dateAct | date: " dd/MM/yyyy"}}<br/>
          Prix : {{registration.prixAct}}€<br/>
          <div class='buttonAct'>
          Inscrit
          <button type='button' name='action' (click)="unregisterActivity(registration.idActivite)" class='btn_inscription'>Se désinscrire</button>
          </div>
          </div>
          </div>
        </div>
       </div>
    </div>
  </div>
</div>
</div>